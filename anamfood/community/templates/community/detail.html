{% extends 'base.html' %}

{% block css %}
<style>
  #map {
    height: 100%;
  }
  /* Optional: Makes the sample page fill the window. */
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
  }
</style>

{% endblock %}


{% block content %}

<div class="card my-3">
  <img src="..." class="card-img-top" alt="..." id='map'>
  <div class="card-body">
    <h5 class="card-title">글 제목 : {{community.title}}</h5>
    <h6 class="card-title">가게 이름 : {{community.store_name}}</h6>
    <p class="card-text">평점 : {{community.rank}}</p>
    <p class="card-text">내용 : {{community.content}}</p>
    <p class="card-text"><small class="text-muted">작성 시간 : {{community.created_at}}</small></p>
    <p class="card-text"><small class="text-muted">작성 시간 : {{community.updated_at}}</small></p>
    <form action="{% url 'community:delete' community.pk %}" method='POST' class='d-inline-block'>
        {% csrf_token %}
        <button class="btn btn-danger">삭제</button>
    </form>
    <form action="{% url 'community:update' community.pk %}" method='GET' class='d-inline-block'>
        <button class='btn btn-primary'>수정</button>ㅁ
    </form>
  <a href="{% url 'community:index' %}" class="btn btn-secondary">뒤로가기</a>
  </div>


</div>
{% endblock %}

{% block js %}
<script>

  // This example displays a marker at the center of Australia.
  // When the user clicks the marker, an info window opens.

  function initMap() {
    var uluru = {lat: -25.363, lng: 131.044};
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 4,
      center: uluru
    });

    var contentString = '<div id="content">'+
        '<div id="siteNotice">'+
        '</div>'+
        '<h1 id="firstHeading" class="firstHeading">Uluru</h1>'+
        '<div id="bodyContent">'+
        '<p><b>Uluru</b>, also referred to as <b>Ayers Rock</b>, is a large ' +
        'sandstone rock formation in the southern part of the '+
        'Northern Territory, central Australia. It lies 335&#160;km (208&#160;mi) '+
        'south west of the nearest large town, Alice Springs; 450&#160;km '+
        '(280&#160;mi) by road. Kata Tjuta and Uluru are the two major '+
        'features of the Uluru - Kata Tjuta National Park. Uluru is '+
        'sacred to the Pitjantjatjara and Yankunytjatjara, the '+
        'Aboriginal people of the area. It has many springs, waterholes, '+
        'rock caves and ancient paintings. Uluru is listed as a World '+
        'Heritage Site.</p>'+
        '<p>Attribution: Uluru, <a href="https://en.wikipedia.org/w/index.php?title=Uluru&oldid=297882194">'+
        'https://en.wikipedia.org/w/index.php?title=Uluru</a> '+
        '(last visited June 22, 2009).</p>'+
        '</div>'+
        '</div>';

    var infowindow = new google.maps.InfoWindow({
      content: contentString
    });

    var marker = new google.maps.Marker({
      position: uluru,
      map: map,
      title: 'Uluru (Ayers Rock)'
    });
    marker.addListener('click', function() {
      infowindow.open(map, marker);
    });
  }
</script>
<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyASX4fOfVsvsjuggCe1O2ZUWqU9ow-88a8&callback=initMap">
</script>

{% endblock %}